<!DOCTYPE html>
<html lang="zh">
    <head>
        <script src="https://unpkg.com/vue/dist/vue.js"></script>
        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="moqunzhu">

        <title>Detail</title>
        <!-- Custom styles -->
        <link href="../../css/weui-custom-style.css" rel="stylesheet">

        <!-- WeUI styles -->
        <link rel="stylesheet" href="https://res.wx.qq.com/open/libs/weui/1.1.0/weui.min.css">

        <!-- WeUI Javascript library -->
        <script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
      
</head>

<body>
    <div id="detail-container">

    <!-- Header -->
    <h1 class="news-title">公告详情</h1>

    <div class="news-container">
        <div class="weui-panel weui-panel_access">
        <div class="weui-panel__bd">

            <div class="weui-media-box weui-media-box_text">
                <h5 class="weui-media-box__title">公告名称</h5>
                <div class="weui-media-box__info">课程名</div>
            </div>
        </div>
        </div>
    </div>

    <!-- Description -->
    <div class="news-container">
        <div class="weui-panel weui-panel_access">
        <div class="weui-panel__bd">

            <div class="weui-media-box weui-media-box_text">
                <h5 class="weui-media-box__title">发布时间: </h5>
                <h5 class="weui-media-box__title">发布人: </h5>
                <div class="weui-media-box__desc" id="detail-description">公告内容2333333333333333333333333333333333333333333333333
                </div>
            </div>
        </div>
        </div>
    </div>

    <a href="javascript:;" class="weui-btn weui-btn_primary" id="detail-return-button">返回公告新鲜事</a>
    </div>

    <script>
    today =  new Date()
    function expand(items){
        items.forEach(function(i){
            i.days_left = Math.floor((parseDate(i.end_time) - today) / 86400 / 1000)
            i.detail.replace(/\\n\\n/g, "<br/>")
        })
    }
    function parseDate(str){
        return new Date(str);
    }
    $.getJSON('/api/notice/detail/?',function(data){
        expand(data.data);
        data.data.sort(function(a, b){
            return parseDate(a.end_time) > parseDate(b.end_time)
        })
        new Vue({
            el: '#detail-container',
            data: {
                'item': data.data[3]
            }
        })
    })
    </script>




</body>

